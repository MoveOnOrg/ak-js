function confirmLargeDonation(e){return $("form").data("confirmed")?!0:($("#confirm-big-donation .donation-amount").text(e),$("#confirm-big-donation .btn.yes").click(function(){$("#confirm-big-donation").on("hidden.bs.modal",function(e){$("form").data("confirmed",!0).trigger("submit")}),$("#confirm-big-donation").modal("hide")}),$("#confirm-big-donation").modal(),!1)}function shuffle(e){for(var n,t,i=e.length;0!==i;)t=Math.floor(Math.random()*i),i-=1,n=e[i],e[i]=e[t],e[t]=n;return e}function shuffleQuestions(){$(".randomized-options").each(function(){var e=$(this),n=[];e.find(".option").each(function(){var e=$(this);n.push(e.clone()),e.remove()}),shuffle(n),$.each(n,function(){e.append($(this))})})}(function(){var e,n=[].indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===e)return n;return-1};e=jQuery,e.fn.validateCreditCard=function(t,i){var a,o,l,r,s,c,u,m,d,h,f,g,_;for(r=[{name:"amex",pattern:/^3[47]/,valid_length:[15]},{name:"diners_club_carte_blanche",pattern:/^30[0-5]/,valid_length:[14]},{name:"diners_club_international",pattern:/^36/,valid_length:[14]},{name:"jcb",pattern:/^35(2[89]|[3-8][0-9])/,valid_length:[16]},{name:"laser",pattern:/^(6304|670[69]|6771)/,valid_length:[16,17,18,19]},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/,valid_length:[16]},{name:"visa",pattern:/^4/,valid_length:[16]},{name:"mastercard",pattern:/^5[1-5]/,valid_length:[16]},{name:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,valid_length:[12,13,14,15,16,17,18,19]},{name:"discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,valid_length:[16]}],a=!1,t&&("object"==typeof t?(i=t,a=!1,t=null):"function"==typeof t&&(a=!0)),null==i&&(i={}),null==i.accept&&(i.accept=function(){var e,n,t;for(t=[],e=0,n=r.length;n>e;e++)o=r[e],t.push(o.name);return t}()),_=i.accept,f=0,g=_.length;g>f;f++)if(l=_[f],n.call(function(){var e,n,t;for(t=[],e=0,n=r.length;n>e;e++)o=r[e],t.push(o.name);return t}(),l)<0)throw"Credit card type '"+l+"' is not supported";return s=function(e){var t,a,s;for(s=function(){var e,t,a,l;for(l=[],e=0,t=r.length;t>e;e++)o=r[e],a=o.name,n.call(i.accept,a)>=0&&l.push(o);return l}(),t=0,a=s.length;a>t;t++)if(l=s[t],e.match(l.pattern))return l;return null},u=function(e){var n,t,i,a,o,l;for(i=0,l=e.split("").reverse(),t=a=0,o=l.length;o>a;t=++a)n=l[t],n=+n,t%2?(n*=2,i+=10>n?n:n-9):i+=n;return i%10===0},c=function(e,t){var i;return i=e.length,n.call(t.valid_length,i)>=0},h=function(e){return function(e){var n,t;return l=s(e),t=!1,n=!1,null!=l&&(t=u(e),n=c(e,l)),{card_type:l,valid:t&&n,luhn_valid:t,length_valid:n}}}(this),d=function(n){return function(){var t;return t=m(e(n).val()),h(t)}}(this),m=function(e){return e.replace(/[ -]/g,"")},a?(this.on("input.jccv",function(n){return function(){return e(n).off("keyup.jccv"),t.call(n,d())}}(this)),this.on("keyup.jccv",function(e){return function(){return t.call(e,d())}}(this)),t.call(this,d()),this):d()}}).call(this),$(document).ready(function(){$("form").data("confirmed",!1).submit(function(e){var n=$("#total-to-split"),t=0,i=$("input:radio[name=amount]:checked");t=i.length>0?parseFloat(i.val()):parseFloat($("#amount_other_field").val()),n.length>0&&(t=parseFloat(n.val())),t>=250&&(confirmLargeDonation(t)||e.preventDefault())}),$("form input").keyup(function(){$("form").data("confirmed",!1)})});var EmailSuggestion={last_email_suggestion:"",email_field:void 0,email_suggestion_field:void 0,default_domains:["gmail.com","yahoo.com","hotmail.com","aol.com","comcast.net","msn.com","sbcglobal.net","verizon.net","att.net","bellsouth.net","cox.net","earthlink.net","live.com","mac.com","charter.net","me.com","ymail.com","optonline.net","juno.com","excite.com","netscape.net","pacbell.net"],init:function(e){e=e||{};var n=e.string||'<div class="blurb moveon-bright-red bump-bottom-1"> Did you mean <strong><span style="cursor:pointer;"onclick="EmailSuggestion.ok()">{{email}}</span></strong>?  <a onclick="EmailSuggestion.ok()">Yes!</a> / <a onclick="EmailSuggestion.nevermind()">No</a> </div>',t=e.domains||this.default_domains;if(e.email_id?this.email_field=$("#"+e.email_id):e.email_selector?this.email_field=$(e.email_selector):this.email_field=$('input[name="email"]'),!this.email_field.length)throw new Error("Unable to find email field in setup_email_suggestion - please pass in email_id or email_selector.");e.email_suggestion_id?this.email_suggestion_field=$("#"+e.email_suggestion_id):e.email_suggestion_selector&&(this.email_suggestion_field=$(e.email_suggestion_selector)),e.validation_error_class&&(this.validation_error_class=e.validation_error_class),this.email_suggestion_field&&this.email_suggestion_field.length||(this.email_field.after('<span id="auto_email_suggestion" class="email_suggestion hidden"></span>'),this.email_suggestion_field=$("#auto_email_suggestion")),this.email_field.keypress(function(){/.*@.*\.\w+/.test($(this).val())?EmailSuggestion.coloroff():EmailSuggestion.coloron()}),this.email_field.blur(function(){$(this).mailcheck({domains:t,suggested:function(e,t){EmailSuggestion.last_email_suggestion=t,EmailSuggestion.email_suggestion_field.html(n.replace("{{email}}",t.full)).show().css("visibility","visible"),EmailSuggestion.coloron()},empty:function(e){EmailSuggestion.email_suggestion_field.html("")}})})},ok:function(){this.email_field.val(this.last_email_suggestion.full),this.email_suggestion_field.html(""),this.coloroff()},nevermind:function(){this.email_suggestion_field.html(""),this.coloroff()},coloron:function(){this.validation_error_class?this.email_field.addClass(this.validation_error_class):this.email_field.attr("style","color:#c22326;")},coloroff:function(){this.validation_error_class?this.email_field.removeClass(this.validation_error_class):this.email_field.attr("style","color:#555555;")}};window.jsErrors=[],window.onerror=function(e){window.jsErrors[window.jsErrors.length]=e},$(document).ready(function(){$("form").each(function(){var e=this;if(!(null==location.search||location.search.length<1))for(var n=location.search.substring(1).split("&"),t=0;t<n.length;++t){var i=n[t].split("="),a=i[0],o=unescape(i[1].replace(/\+/g," ")),l=e.elements[a],r=null,s=!1;switch(null!=l&&(null!=l.length&&l.length>=1&&null!=l[0].type&&void 0!=l[0].type?(r=l[0].type,s=!0):r=l.type),r){case"text":case"hidden":case"textarea":s&&(l=l[0]),l.value=o,$(l).trigger("change");break;case"select-one":case"select-multiple":s&&(l=l[0]);for(var c=0;c<l.options.length;++c){var u=l.options[c],m=u.value;if(null!=m&&""!=m||(m=u.text),m==o){u.selected=!0,$(l).trigger("change");break}}break;case"checkbox":case"radio":if(s){for(var d=0;d<l.length;++d)if(l[d].value==o){l[d].checked=!0,$(l).trigger("change");break}}else l.checked=!0}}})}),function(e){e.fn.mailcheck=function(e,n){var t=["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com"];if("object"==typeof e&&void 0===n)e.domains=e.domains||t;else{var i=e;e=n,e.domains=i||t}var a=Kicksend.mailcheck.suggest(encodeURI(this.val()),e.domains);a?e.suggested&&e.suggested(this,a):e.empty&&e.empty(this)}}(jQuery);var Kicksend={mailcheck:{threshold:3,suggest:function(e,n){e=e.toLowerCase();var t=this.splitEmail(e),i=this.findClosestDomain(t.domain,n);return i?{address:t.address,domain:i,full:t.address+"@"+i}:!1},findClosestDomain:function(e,n){for(var t,i=99,a=null,o=0;o<n.length;o++){if(e===n[o])return!1;t=this.stringDistance(e,n[o]),i>t&&(i=t,a=n[o])}return i<=this.threshold&&null!==a?a:!1},stringDistance:function(e,n){if(null==e||0===e.length)return null==n||0===n.length?0:n.length;if(null==n||0===n.length)return e.length;for(var t=0,i=0,a=0,o=0,l=5;t+i<e.length&&t+a<n.length;){if(e.charAt(t+i)==n.charAt(t+a))o++;else{i=0,a=0;for(var r=0;l>r;r++){if(t+r<e.length&&e.charAt(t+r)==n.charAt(t)){i=r;break}if(t+r<n.length&&e.charAt(t)==n.charAt(t+r)){a=r;break}}}t++}return(e.length+n.length)/2-o},splitEmail:function(e){var n=e.split("@");if(n.length<2)return!1;for(var t=0;t<n.length;t++)if(""===n[t])return!1;return{domain:n.pop(),address:n.join("@")}}}};$(document).ready(shuffleQuestions),$(document).ready(function(){var e=$('<div class="col-md-8 checkbox"></div>'),n=$('<input type="checkbox" name="retired" />').click(function(){var e=$(this),n=$("#employer-occupation-info");e.is(":checked")?(n.addClass("hidden"),n.find("#action_employer").val("None"),n.find("#action_occupation").val("Not employed")):n.removeClass("hidden")}),t=$('<label for="retired"> </label>'),i=$("<span>I am retired or unemployed</span>").click(function(){$("input[name=retired]").click()});t.prepend(n).append(i),e.append(t),$("#retired-checkbox").append(e)}),$(document).ready(function(){$("#card_num").length>0&&$("#card_num").validateCreditCard(function(e){$("#card_num_box .cc-icons .wf-icon").removeClass("matched"),e.valid&&$("#card_num_box .cc-icons .icon-"+e.card_type.name).addClass("matched"),e.valid||0==$("#card_num").val().length?$("#card_num_box").removeClass("has-error"):$("#card_num_box").addClass("has-error")})});